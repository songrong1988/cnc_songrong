%
O0016
#1=6
#2=100
#3=20
#4=10
#5=0
#17=2.5
#6=0.8*#4
#7=360/#1
#8=[#2/#2]*COS[#7/2]-#4/2
S1000M03
G54G90G00X0Y0Z30
G16
WHILE[#5LT#3]DO1
Z[-#5+1]
G01Z-[#5+#17]F150
#9=FUP[#8/#6]
WHILE[#9GE0]DO2
#10=[#8-#9*#6]/COS[#7/2]
G01X#10Y90F1000
#11=1
WHILE[#11LE#1]DO3
Y[90+#11*#7]
#11=#11+1
END3
#9=#9-1
END2
G00Z30
X0Y0
#5=#5+#17
END1
G15
M30
%